# -------------------------
# Project Settings
# -------------------------
# 분석할 종(species)을 선택합니다: "human" 또는 "mouse"
# 이 설정에 따라 아래 organism_db와 kegg_code가 자동으로 결정됩니다.
species: "human"

# -------------------------
# File Paths
# -------------------------
count_data_path: "data/raw/airway_scaledcounts.csv"
metadata_path: "data/raw/airway_metadata.csv"
output_dir: "output"

# -------------------------
# Analysis Parameters
# -------------------------
# DE 분석 관련 설정
de_analysis:
  # 사용할 DGE 분석 방법을 선택: "DESeq2", "edgeR", "limma-voom"
  method: "DESeq2"

  # ★★★ 다중 비교를 위한 핵심 설정 ★★★

  # 1. 디자인 공식: 메타데이터의 '그룹' 컬럼을 포함해야 합니다.
  #    예: "~ group" 또는 배치 효과가 있다면 "~ batch + group"
  design_formula: "~ group"
  
  # 2. 그룹 변수: design_formula에 사용된 그룹 컬럼의 이름을 정확히 적어줍니다.
  group_variable: "group"

  # 3. Omnibus Test: true로 설정 시, 모든 그룹 간에 차이가 있는지 1-way ANOVA-like test를 수행합니다.
  #    (DESeq2/edgeR: LRT, limma: F-test)
  #    이 결과는 '{output_dir}/omnibus_test_results.csv' 등으로 저장됩니다.
  run_omnibus_test: true

  # 4. Pairwise Comparisons: 실행할 모든 1:1 비교를 [비교군, 기준군] 쌍으로 명시합니다.
  #    Snakemake가 이 목록을 기반으로 각 비교 작업을 생성합니다.
  pairwise_comparisons:
    - ["Acute_1D", "Control"]
    - ["Acute_3D", "Control"]
    - ["Chronic_100uM", "Control"]
    - ["Chronic_200uM", "Control"]
    # 예시: 그룹이 더 있다면 아래처럼 추가
    # - ["Drug_High", "Control"]
    # - ["Drug_Low", "Control"]
    # - ["Drug_High", "Drug_Low"]

  # 유의성 기준 (Adjusted p-value)
  padj_cutoff: 0.05
  # Log2 Fold Change 절대값 기준
  log2fc_cutoff: 1.0

# enrichment analysis 관련 설정
enrichment:
  # 분석할 유전자 목록: "total", "up", "down" 중에서 원하는 항목만 남기세요.
  gene_lists: ["total", "up", "down"]
  # 실행할 Gene Ontology 목록: "BP", "CC", "MF" 중에서 원하는 항목만 남기세요.
  go_ontologies: ["BP", "CC", "MF"]
  pvalue_cutoff: 0.05
  qvalue_cutoff: 0.2
# -------------------------
# Annotation Databases (자동 설정)
# -------------------------
# species 설정에 따라 결정되는 값들이므로 직접 수정할 필요가 없습니다.
databases:
  human:
    organism_db: "org.Hs.eg.db"
    kegg_code: "hsa"
  mouse:
    organism_db: "org.Mm.eg.db"
    kegg_code: "mmu"

# -------------------------
# Plot Aesthetics (시각화 속성)
# -------------------------
plot_aesthetics:
  # Volcano Plot 속성
  volcano:
    title: "Volcano Plot"
    up_color: "#FF5733"      # 상향 조절 유전자 색상
    down_color: "#3375FF"    # 하향 조절 유전자 색상
    base_color: "grey"       # 그 외 유전자 색상
    point_size: 2.5          # 점 크기
    label_top_n: 0          # 상위 N개 유전자에 라벨 표시 (0이면 표시 안함)
    base_font_size: 14       # 기본 폰트 크기

  # Dot Plot (GO & KEGG) 속성
  dotplot:
    x_axis_variable: "GeneRatio" # Dot plot의 x축에 사용할 변수를 선택: "FoldEnrichment" 또는 "GeneRatio"
    show_n_categories: 15    # 표시할 상위 카테고리 개수
    font_size: 12            # 폰트 크기
    low_color: "#FFC300"     # p-value가 낮을 때의 색상 (진한 색)
    high_color: "#C70039"    # p-value가 높을 때의 색상 (연한 색)

# -------------------------
# GO Bar Plot Settings
# -------------------------
go_barplot:
  # 플롯에 표시할 상위 GO Term 개수
  top_n: 10
  # 종합 플롯에 포함할 Ontology 목록: "BP", "CC", "MF" 중 선택
  namespaces: ["BP", "CC", "MF"]
  # 각 Ontology에 대한 막대 색상
  colors:
    BP: "#E57373"  # Biological Process
    CC: "#64B5F6"  # Cellular Component
    MF: "#81C784"  # Molecular FunctionS

# -------------------------
# Export Options
# -------------------------
export:
  # true로 설정하면 .xlsx 엑셀 파일도 함께 생성합니다.
  export_to_excel: true

